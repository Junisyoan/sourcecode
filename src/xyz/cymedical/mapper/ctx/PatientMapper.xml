<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" 
"http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">

<mapper namespace="xyz.cymedical.mapper.ctx.PatientMapper">

	<select id="query"
		parameterType="xyz.cymedical.entity.jun.Patient"
		resultType="java.util.HashMap">
		select * from tb_patient p left join tb_company c on p.company_id =
		c.company_id where 1 = 1
		<if test="name != null and name != ''">
			and p.name like '%${name}%'
		</if>
		<if test="phone != null and phone != ''">
			and p.phone = #{phone}
		</if>
		<if test="time != null and time != ''">
			and p.time = #{time}
		</if>
		<if test="code != null  and code != ''">
			and p.code like '%${code}%'
		</if>
	</select>

</mapper>